(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{37:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(2),o=n(14),r=n.n(o),u=n(3),i=function(e){var t=e.addName,n=e.newName,a=e.handleNameChange,o=e.newNumber,r=e.handleNumberChange;return Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Add a New "}),Object(c.jsxs)("form",{onSubmit:t,children:[Object(c.jsxs)("div",{children:[" name: ",Object(c.jsx)("input",{value:n,onChange:a})]}),Object(c.jsxs)("div",{children:[" number: ",Object(c.jsx)("input",{value:o,onChange:r})]}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{type:"submit",children:"add"})})]})]})},s=n(4),l=n.n(s),j="http://localhost:3001/api/persons",h=function(){return l.a.get(j).then((function(e){return e.data}))},d=function(e){return l.a.post(j,e).then((function(e){return e.data})).catch((function(e){alert("not created")}))},b=function(e){return l.a.delete("".concat(j,"/").concat(e)).then((function(e){return e.data})).catch((function(e){alert("not deleted")}))},O=function(e){var t=e.personToShow;return Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Numbers"}),Object(c.jsx)("table",{children:Object(c.jsx)("tbody",{children:t.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e.name}),Object(c.jsx)("td",{children:e.number}),Object(c.jsx)("td",{children:Object(c.jsx)("button",{onClick:function(){return function(e){window.confirm("do you want to delete ".concat(e.name))&&b(e.id).then((function(e){console.log(e)}))}(e)},children:"Delete"})})]},e.name)}))})})]})},f=function(e){var t=e.showAll,n=e.handleShowChange;return Object(c.jsxs)("div",{children:["filter shown with ",Object(c.jsx)("input",{value:t,onChange:n})]})},m=(n(37),function(e){var t=e.message;return null===t?null:Object(c.jsx)("div",{className:"error",children:t})}),x=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],o=t[1],r=Object(a.useState)("enter the name"),s=Object(u.a)(r,2),l=s[0],j=s[1],b=Object(a.useState)("000"),x=Object(u.a)(b,2),v=x[0],g=x[1],p=Object(a.useState)(""),w=Object(u.a)(p,2),N=w[0],C=w[1],S=Object(a.useState)(null),k=Object(u.a)(S,2),y=k[0],A=k[1];Object(a.useEffect)((function(){h().then((function(e){o(e)}))}),[]);var L=""===N?n:n.filter((function(e){return e.name.toLowerCase().includes(N.toLocaleLowerCase())}));return Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Phonebook"}),Object(c.jsx)(m,{message:y}),Object(c.jsx)(f,{showAll:N,handleShowChange:function(e){console.log(e.target.value),C(e.target.value)}}),Object(c.jsx)(i,{addName:function(e){e.preventDefault();var t={name:l,number:v};d(t).then((function(e){o(n.concat(t)),A("".concat(l," is added to the phone book")),setTimeout((function(){A(null)}),5e3)}))},newName:l,handleNameChange:function(e){console.log(e.target.value),j(e.target.value)},newNumber:v,handleNumberChange:function(e){console.log(e.target.value),g(e.target.value)}}),Object(c.jsx)(O,{personToShow:L})]})};r.a.render(Object(c.jsx)(x,{}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.6001a0ea.chunk.js.map