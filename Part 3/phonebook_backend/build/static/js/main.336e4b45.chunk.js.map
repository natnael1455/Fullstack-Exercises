{"version":3,"sources":["components/Form.js","services/person.js","components/Persons.js","components/Filter.js","components/App.js","index.js"],"names":["Form","addName","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","value","onChange","type","baseUrl","axios","get","then","response","data","newObject","post","catch","error","alert","id","delete","newPerson","put","Persons","personToShow","map","person","name","number","onClick","window","confirm","personService","returnedPerosn","console","log","hadleDeletePersonOf","Filter","showAll","handleShowChange","Notification","message","className","App","useState","persons","setPersons","setNewName","setNewNumber","setShowAll","errorMessage","setErrorMessage","useEffect","initialPersons","filter","toLowerCase","includes","toLocaleLowerCase","event","target","preventDefault","some","element","find","p","changedPerson","returnedPerson","setTimeout","personObject","returnedNote","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.336e4b45.chunk.js","sourcesContent":["import React from 'react'\r\n\r\n\r\nconst Form = ({addName,newName,handleNameChange,newNumber,handleNumberChange}) =>{\r\n    return(\r\n      <div>\r\n      <h2>Add a New </h2>\r\n      <form onSubmit={addName}>\r\n          <div> name: <input value={newName} onChange={handleNameChange}/></div>\r\n          <div> number: <input value={newNumber} onChange={handleNumberChange}/></div>\r\n          \r\n          <div>\r\n            <button type=\"submit\">add</button>\r\n          </div>\r\n        </form>\r\n    </div>\r\n    )\r\n  }\r\n  \r\nexport default Form","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n  }\r\n\r\n const create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n return request\r\n .then(response => response.data)\r\n .catch(error => {\r\n  alert(\"not created\");\r\n})\r\n}\r\n\r\nconst update = (id, newPerson) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newPerson)\r\n    return request\r\n    .then(response => response.data)\r\n    .catch(error => {\r\n      alert(\"not updated\");\r\n    })\r\n  }\r\nconst delet = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request\r\n  .then(response => response.data)\r\n  .catch(error => {\r\n    alert(\"not deleted\");\r\n  })\r\n}\r\n\r\nexport default { getAll,create,delet,update}","import React from 'react'\r\nimport personService from '../services/person'\r\n\r\n\r\n\r\n  const Persons = ({personToShow}) => {\r\n\r\n    const hadleDeletePersonOf =(person)=>{\r\n      const result = window.confirm(`do you want to delete ${person.name}`);\r\n      if (result){\r\n        personService\r\n        .delet(person.id)\r\n        .then(returnedPerosn => {\r\n        console.log(returnedPerosn)\r\n        })\r\n      }\r\n     \r\n    }\r\n\r\n    return(\r\n      <div>\r\n       <h2>Numbers</h2>\r\n       <table>\r\n         <tbody>\r\n        {personToShow.map(person =><tr key={person.name}>\r\n          <td>{person.name}</td> \r\n          <td>{person.number}</td>\r\n          <td><button onClick={()=>hadleDeletePersonOf(person)}>Delete</button></td>\r\n          </tr>)}\r\n        </tbody>\r\n      </table>\r\n          \r\n     </div>\r\n    )\r\n  }\r\nexport default Persons","import React from 'react'\r\n\r\nconst Filter = ({showAll,handleShowChange}) =>{\r\n    return(\r\n      <div>\r\n      \r\n      filter shown with <input value={showAll} onChange={handleShowChange}/>\r\n      </div>\r\n    )\r\n  }\r\n  \r\nexport default Filter","import React, { useState,useEffect } from 'react'\r\nimport Form from './Form'\r\nimport Persons from './Persons'\r\nimport Filter from './Filter'\r\nimport personService from '../services/person'\r\nimport '../index.css'\r\n\r\nconst Notification = ({ message }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className=\"error\">\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n\r\nconst App = () => {\r\n\r\n  const [ persons, setPersons ] = useState([]) \r\n  const [ newName, setNewName ] = useState('enter the name')\r\n  const [newNumber,setNewNumber] = useState('000')\r\n  const [showAll, setShowAll] = useState('')\r\n  const [errorMessage, setErrorMessage] = useState(null)\r\n  \r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then(initialPersons => {\r\n        setPersons(initialPersons)\r\n      })\r\n  }, [])\r\n  \r\n  \r\n  const addName = (event) => {\r\n    event.preventDefault()\r\n    const same = (element) => element  === newName;\r\n\r\n    if (persons.map(person => person.name).some(same)){\r\n      const result = window.confirm(`${newName} is already added in the phonebooks`)\r\n      if (result){\r\n        const person = persons.find(p => p.name ===newName)\r\n        const changedPerson = { ...person, number:newNumber}\r\n\r\n        personService\r\n          .update(changedPerson.id, changedPerson)\r\n          .then(returnedPerson => {\r\n          setPersons(persons.map(person => \r\n            person.id !== changedPerson.id \r\n            ? person \r\n            : returnedPerson))\r\n            setErrorMessage(\r\n              `the number for ${newName} is changed to ${newNumber}`\r\n            )\r\n            setTimeout(() => {\r\n              setErrorMessage(null)\r\n            }, 5000)\r\n      })\r\n      }\r\n    }\r\n    else {\r\n      const personObject = {\r\n        name: newName,\r\n        number:newNumber\r\n      }\r\n\r\n      personService\r\n      .create(personObject)\r\n      .then(returnedNote => {\r\n        setPersons(persons.concat(personObject))\r\n        setErrorMessage(\r\n          `${newName} is added to the phone book`\r\n        )\r\n        setTimeout(() => {\r\n          setErrorMessage(null)\r\n        }, 5000)\r\n        })\r\n      \r\n    }\r\n  }\r\n\r\n  const handleNameChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleShowChange = (event) => {\r\n    console.log(event.target.value)\r\n    setShowAll(event.target.value)\r\n  }\r\n\r\n  const personToShow = (showAll==='')\r\n  ? persons\r\n  : persons.filter(person => person.name.toLowerCase()\r\n  .includes(showAll.toLocaleLowerCase()))\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={errorMessage} />\r\n      <Filter showAll={showAll} handleShowChange={handleShowChange} />\r\n      <Form addName={addName} \r\n        newName={newName} \r\n        handleNameChange ={handleNameChange} \r\n        newNumber={newNumber}\r\n        handleNumberChange={handleNumberChange} />\r\n\r\n      <Persons personToShow={personToShow}/>\r\n    </div>\r\n\r\n    \r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}