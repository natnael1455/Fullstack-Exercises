(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{38:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var c=t(0),o=t(2),a=t(15),r=t.n(a),u=t(6),i=t(3),s=function(e){var n=e.addName,t=e.newName,o=e.handleNameChange,a=e.newNumber,r=e.handleNumberChange;return Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Add a New "}),Object(c.jsxs)("form",{onSubmit:n,children:[Object(c.jsxs)("div",{children:[" name: ",Object(c.jsx)("input",{value:t,onChange:o})]}),Object(c.jsxs)("div",{children:[" number: ",Object(c.jsx)("input",{value:a,onChange:r})]}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{type:"submit",children:"add"})})]})]})},d=t(4),l=t.n(d),h="/api/persons",j=function(){return l.a.get(h).then((function(e){return e.data}))},b=function(e){return l.a.post(h,e).then((function(e){return e.data})).catch((function(e){alert("not created")}))},f=function(e){return l.a.delete("".concat(h,"/").concat(e)).then((function(e){return e.data})).catch((function(e){alert("not deleted")}))},m=function(e,n){return l.a.put("".concat(h,"/").concat(e),n).then((function(e){return e.data})).catch((function(e){alert("not updated")}))},O=function(e){var n=e.personToShow;return Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Numbers"}),Object(c.jsx)("table",{children:Object(c.jsx)("tbody",{children:n.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e.name}),Object(c.jsx)("td",{children:e.number}),Object(c.jsx)("td",{children:Object(c.jsx)("button",{onClick:function(){return function(e){window.confirm("do you want to delete ".concat(e.name))&&f(e.id).then((function(e){console.log(e)}))}(e)},children:"Delete"})})]},e.name)}))})})]})},x=function(e){var n=e.showAll,t=e.handleShowChange;return Object(c.jsxs)("div",{children:["filter shown with ",Object(c.jsx)("input",{value:n,onChange:t})]})},v=(t(38),function(e){var n=e.message;return null===n?null:Object(c.jsx)("div",{className:"error",children:n})}),g=function(){var e=Object(o.useState)([]),n=Object(i.a)(e,2),t=n[0],a=n[1],r=Object(o.useState)("enter the name"),d=Object(i.a)(r,2),l=d[0],h=d[1],f=Object(o.useState)("000"),g=Object(i.a)(f,2),p=g[0],w=g[1],N=Object(o.useState)(""),C=Object(i.a)(N,2),S=C[0],k=C[1],y=Object(o.useState)(null),T=Object(i.a)(y,2),A=T[0],L=T[1];Object(o.useEffect)((function(){j().then((function(e){a(e)}))}),[]);var D=""===S?t:t.filter((function(e){return e.name.toLowerCase().includes(S.toLocaleLowerCase())}));return Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Phonebook"}),Object(c.jsx)(v,{message:A}),Object(c.jsx)(x,{showAll:S,handleShowChange:function(e){console.log(e.target.value),k(e.target.value)}}),Object(c.jsx)(s,{addName:function(e){e.preventDefault();if(t.map((function(e){return e.name})).some((function(e){return e===l}))){if(window.confirm("".concat(l," is already added in the phonebooks"))){var n=t.find((function(e){return e.name===l})),c=Object(u.a)(Object(u.a)({},n),{},{number:p});m(c.id,c).then((function(e){a(t.map((function(n){return n.id!==c.id?n:e}))),L("the number for ".concat(l," is changed to ").concat(p)),setTimeout((function(){L(null)}),5e3)}))}}else{var o={name:l,number:p};b(o).then((function(e){a(t.concat(o)),L("".concat(l," is added to the phone book")),setTimeout((function(){L(null)}),5e3)}))}},newName:l,handleNameChange:function(e){console.log(e.target.value),h(e.target.value)},newNumber:p,handleNumberChange:function(e){console.log(e.target.value),w(e.target.value)}}),Object(c.jsx)(O,{personToShow:D})]})};r.a.render(Object(c.jsx)(g,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.336e4b45.chunk.js.map