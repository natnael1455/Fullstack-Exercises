{"version":3,"sources":["components/Form.js","services/person.js","components/Persons.js","components/Filter.js","components/App.js","index.js"],"names":["Form","addName","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","value","onChange","type","baseUrl","axios","get","then","response","data","newObject","post","id","delete","catch","error","alert","newPerson","put","Persons","personToShow","map","person","name","number","onClick","window","confirm","personService","returnedPerosn","console","log","hadleDeletePersonOf","Filter","showAll","handleShowChange","Notification","message","notifactionStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","msg","className","style","App","useState","persons","setPersons","setNewName","setNewNumber","setShowAll","errorMessage","setErrorMessage","useEffect","initialPersons","filter","toLowerCase","includes","toLocaleLowerCase","event","target","preventDefault","per","find","newMessage","setTimeout","err","returnedPerson","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.395f2f40.chunk.js","sourcesContent":["import React from 'react'\r\n\r\n\r\nconst Form = ({addName,newName,handleNameChange,newNumber,handleNumberChange}) =>{\r\n    return(\r\n      <div>\r\n      <h2>Add a New </h2>\r\n      <form onSubmit={addName}>\r\n          <div> name: <input value={newName} onChange={handleNameChange}/></div>\r\n          <div> number: <input value={newNumber} onChange={handleNumberChange}/></div>\r\n          \r\n          <div>\r\n            <button type=\"submit\">add</button>\r\n          </div>\r\n        </form>\r\n    </div>\r\n    )\r\n  }\r\n  \r\nexport default Form","import axios from 'axios'\r\nconst baseUrl = 'https://desolate-peak-40401.herokuapp.com/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n  }\r\n\r\n const create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n return request\r\n .then(response => response.data)\r\n \r\n}\r\n\r\nconst update = (id, newPerson) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newPerson)\r\n    return request\r\n    .then(response => response.data)\r\n    \r\n  }\r\nconst delet = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request\r\n  .then(response => response.data)\r\n  .catch(error => {\r\n    alert(\"not deleted\");\r\n  })\r\n}\r\n\r\nexport default { getAll,create,delet,update}","import React from 'react'\r\nimport personService from '../services/person'\r\n\r\n\r\n\r\n  const Persons = ({personToShow}) => {\r\n\r\n    const hadleDeletePersonOf =(person)=>{\r\n      const result = window.confirm(`do you want to delete ${person.name}`);\r\n      if (result){\r\n        personService\r\n        .delet(person.id)\r\n        .then(returnedPerosn => {\r\n        console.log(returnedPerosn)\r\n        })\r\n      }\r\n    }\r\n\r\n    return(\r\n      <div>\r\n       <h2>Numbers</h2>\r\n       <table>\r\n         <tbody>\r\n        {personToShow.map(person =><tr key={person.name}>\r\n          <td>{person.name}</td> \r\n          <td>{person.number}</td>\r\n          <td><button onClick={()=>hadleDeletePersonOf(person)}>Delete</button></td>\r\n          </tr>)}\r\n        </tbody>\r\n      </table>\r\n          \r\n     </div>\r\n    )\r\n  }\r\nexport default Persons","import React from 'react'\r\n\r\nconst Filter = ({showAll,handleShowChange}) =>{\r\n    return(\r\n      <div>\r\n      \r\n      filter shown with <input value={showAll} onChange={handleShowChange}/>\r\n      </div>\r\n    )\r\n  }\r\n  \r\nexport default Filter","import React, { useState,useEffect } from 'react'\r\nimport Form from './Form'\r\nimport Persons from './Persons'\r\nimport Filter from './Filter'\r\nimport personService from '../services/person'\r\n\r\n\r\nconst Notification = ({ message}) => {\r\n\r\n  const notifactionStyle = {\r\n    color: message.color,\r\n    background:'lightgrey',\r\n    fontSize: '20px',\r\n    borderStyle: 'solid',\r\n    borderRadius: '5px',\r\n    padding: '10px',\r\n    marginBottom: '10px'\r\n  }\r\n  \r\n  if (message.msg === null) {\r\n    return null\r\n  }\r\n\r\n\r\n  return (\r\n    <div className=\"error\" style={notifactionStyle}>\r\n      {message.msg}\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n\r\nconst App = () => {\r\n\r\n  const [ persons, setPersons ] = useState([]) \r\n  const [ newName, setNewName ] = useState('enter the name')\r\n  const [newNumber,setNewNumber] = useState('000')\r\n  const [showAll, setShowAll] = useState('')\r\n  const [errorMessage, setErrorMessage] = useState({msg:null,color:'green'})\r\n  \r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then(initialPersons => {\r\n        setPersons(initialPersons)\r\n      })\r\n  }, [])\r\n  \r\n  \r\n  const addName = (event) => {\r\n    event.preventDefault()\r\n    const per = persons.find(person => person.name === newName)\r\n    if(per){\r\n      const result = window.confirm(`the name ${newName} exists do you want change`)\r\n      if(result){\r\n        per.number = newNumber\r\n        personService\r\n        .update(per.id, per)\r\n        .then(returnedPerosn => {\r\n          \r\n          const newMessage ={msg:` the number for ${newName} is changed to ${newNumber} in the phone book`,\r\n          color: 'green'\r\n          }\r\n        setErrorMessage( newMessage)\r\n        setTimeout(() => {\r\n          setErrorMessage({msg:null,color:'green'})\r\n        }, 5000)\r\n          setPersons(persons.map(person => person.id !== returnedPerosn.id? person: returnedPerosn))\r\n        })\r\n        .catch(error => {\r\n          // this is the way to access the error message\r\n          const err=error.response.data.error\r\n          const newMessage ={msg:err,\r\n        color: 'red'\r\n      }\r\n        setErrorMessage( newMessage)\r\n          setTimeout(() => {\r\n            setErrorMessage({msg:null,color:'green'})\r\n          }, 5000)\r\n\r\n        }) \r\n      }\r\n    }\r\n    else{\r\n      const personObject = {\r\n        name: newName,\r\n        number:newNumber\r\n      }\r\n\r\n      personService\r\n      .create(personObject)\r\n      .then(returnedPerson => {\r\n        setPersons(persons.concat(returnedPerson))\r\n        const newMessage ={msg:`${newName} is added to the phone book`,\r\n        color: 'green'\r\n      }\r\n        setErrorMessage( newMessage)\r\n        setTimeout(() => {\r\n          setErrorMessage({msg:null,color:'green'})\r\n        }, 5000)\r\n        })\r\n        .catch(error => {\r\n          // this is the way to access the error message\r\n          const err=error.response.data.error\r\n          const newMessage ={msg:err,\r\n        color: 'red'\r\n      }\r\n        setErrorMessage( newMessage)\r\n          setTimeout(() => {\r\n            setErrorMessage({msg:null,color:'green'})\r\n          }, 5000)\r\n\r\n        }) \r\n    }\r\n  }\r\n\r\n  const handleNameChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleShowChange = (event) => {\r\n    console.log(event.target.value)\r\n    setShowAll(event.target.value)\r\n  }\r\n\r\n  const personToShow = (showAll==='')\r\n  ? persons\r\n  : persons.filter(person => person.name.toLowerCase()\r\n  .includes(showAll.toLocaleLowerCase()))\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={errorMessage} />\r\n      <Filter showAll={showAll} handleShowChange={handleShowChange} />\r\n      <Form addName={addName} \r\n        newName={newName} \r\n        handleNameChange ={handleNameChange} \r\n        newNumber={newNumber}\r\n        handleNumberChange={handleNumberChange} />\r\n\r\n      <Persons personToShow={personToShow} />\r\n    </div>\r\n\r\n    \r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}